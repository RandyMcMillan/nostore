<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script defer src="delegation_wizard.build.js"></script>
  <link rel="stylesheet" href="options.build.css">

  <title>Delegation Wizard</title>
</head>

<body x-data="delegated" class="text-fuchsia-900 p-3.5 lg:p-32">
  <h1 class="text-3xl lg:text-6xl font-bold md:text-center">New Delegated Profile</h1>

  <p class="mt-6">
    A delegated user, as laid out in the
    <a href="https://github.com/nostr-protocol/nips/blob/master/26.md" @click.prevent="openNip($event)">NIP-26
      specification</a>,
    is a user that is authorized to sign events for a different user. Additional limits can be
    put on the delegated account, such as time limits.
  </p>

  <p class="mt-3">
    This may be useful if you wish to keep your main key stored safely offline, but still post as that user
    with a throwaway key.
  </p>

  <div class="section">
    <h2 class="section-header">Delegator</h2>
    <p class="text-small italic">The secure account to be delegated.</p>

    <div class="mt-3">
      <label for="delegator">Delegator Private Key</label>
      <br>
      <input type="text" class="input" x-model="privKey" :class="validKeyClass" autocapitalize="off" autocomplete="off"
        spellcheck="off">
      <p class="text-xs italic">This is not stored, but only used to sign a token which is stored instead.</p>
    </div>

    <div class="mt-3">
      <label for="duration">Delegated Duration</label>
      <br>
      <select x-model.number="duration" class="input">
        <option value="1">1 day</option>
        <option value="7">7 days</option>
        <option value="30">30 days</option>
      </select>
    </div>
  </div>

  <div class="mt-6">
    <button class="button" @click.prevent="goBack">Back</button>
    <button class="button" @click.prevent="save" :disabled="!isKeyValid">Save</button>
  </div>
</body>

</html>