<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script defer src="event_log.build.js"></script>
  <link rel="stylesheet" href="options.build.css">
  <title>Event Log</title>
</head>

<body class="text-fuchsia-900 p-3.5 lg:p-32" x-data="eventLog">
  <p>
    <a href="options.html" class="border-none hover:underline">‚Üê Back</a>
  </p>

  <h1 class="section-header">Event Log</h1>

  <div class="section">
    <div class="section-header">Filters</div>

    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
      <div>
        <label for="view">View</label>
        <select id="view" class="input" x-model="view" @change="reload">
          <option value="created_at">created_at</option>
          <option value="kind">kind</option>
          <option value="host">host</option>
          <option value="pubkey">pubkey</option>
        </select>
      </div>

      <div>
        <label for="sort">Order</label>
        <select id="sort" x-model="sort" class="input" @change="reload">
          <option value="asc">Ascending</option>
          <option value="desc">Descending</option>
        </select>
      </div>

      <div></div>
      <div></div>

      <div x-show="view === 'created_at'">
        <label for="fromCreatedAt">From</label>
        <input type="date" id="fromCreatedAt" x-model="fromCreatedAt" class="input" @change="reload">
      </div>

      <div x-show="view === 'created_at'">
        <label for="toCreatedAt">To</label>
        <input type="date" id="toCreatedAt" x-model="toCreatedAt" class="input" @change="reload">
      </div>

      <div x-show="view === 'kind'">
        <label for="kindShortcut">Quick Select</label>
        <select id="kindShortcut" class="input" @change="quickKindSelect" x-model="quickKind">
          <option></option>
          <template x-for="k in kinds">
            <option :value="k[0]" x-text="k[1]"></option>
          </template>
        </select>
      </div>

      <div x-show="view === 'kind'">
        <label for="fromKind">From</label>
        <input type="number" id="fromKind" x-model.number="fromKind" class="input" @change="reload">
      </div>

      <div x-show="view === 'kind'">
        <label for="toKind">To</label>
        <input type="number" id="toKind" x-model.number="toKind" class="input" @change="reload">
      </div>
    </div>
  </div>


  <template x-for="event in events">
    <div class="mt-3" x-text="JSON.stringify(event, 2)">
    </div>
  </template>
</body>

</html>